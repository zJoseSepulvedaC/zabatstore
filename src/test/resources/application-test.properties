# ----------------------------------------------------
# Configuracion de la Base de Datos para Testing (H2)
# ESTO SOBRESCRIBE application-dev.properties en entorno de prueba
# ----------------------------------------------------
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=root
spring.datasource.password=${DB_PASSWORD}

# Configuracion de JPA para H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Habilita la consola H2 en las pruebas (opcional)
spring.h2.console.enabled=true

# Esto es CRUCIAL: Crear y dropear las tablas para cada prueba
spring.jpa.hibernate.ddl-auto=create-drop 

# Desactiva la inicializaci√≥n de data para pruebas
spring.sql.init.mode=never
spring.jpa.defer-datasource-initialization=false

# ----------------------------------------------------
# JWT Mocking
# Spring Security necesita estas propiedades para inicializar los Beans
# ----------------------------------------------------
app.jwt.secret=${JWT_SECRET}
app.jwt.expiration-ms=3600000